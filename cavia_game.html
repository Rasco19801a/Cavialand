<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cavia Avonturen Wereld</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: #87CEEB;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        .game-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        canvas {
            border: none;
            display: block;
            cursor: pointer;
        }
        
        .ui-panel {
            position: absolute;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 10px;
            padding: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .world-selector {
            top: 10px;
            left: 10px;
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            max-width: 400px;
        }
        
        .world-btn {
            padding: 5px 10px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            background: #667eea;
            color: white;
        }
        
        .world-btn.active {
            background: #764ba2;
        }
        
        .controls {
            bottom: 10px;
            left: 10px;
        }
        
        .design-panel {
            top: 10px;
            right: 10px;
            max-width: 200px;
        }
        
        .color-btn {
            width: 25px;
            height: 25px;
            border: 2px solid transparent;
            border-radius: 50%;
            cursor: pointer;
            display: inline-block;
            margin: 2px;
        }
        
        .color-btn.active {
            border-color: #764ba2;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <canvas id="gameCanvas"></canvas>

        <div class="ui-panel world-selector">
            <button class="world-btn active" onclick="changeWorld('stad')">üèôÔ∏è Stad</button>
            <button class="world-btn" onclick="changeWorld('natuur')">üå≤ Natuur</button>
            <button class="world-btn" onclick="changeWorld('strand')">üèñÔ∏è Strand</button>
            <button class="world-btn" onclick="changeWorld('winter')">‚õ∑Ô∏è Winter</button>
            <button class="world-btn" onclick="changeWorld('woestijn')">üèúÔ∏è Woestijn</button>
            <button class="world-btn" onclick="changeWorld('jungle')">üå¥ Jungle</button>
            <button class="world-btn" onclick="changeWorld('zwembad')">üèä Zwembad</button>
            <button class="world-btn" onclick="changeWorld('dierenstad')">üè™ Dierenstad</button>
        </div>
        
        <div class="ui-panel controls">
            <p>üñ±Ô∏è Klik/Tik waar je naartoe wilt</p>
            <p>üè† Klik op gebouwen om binnen te gaan</p>
            <p>‚¨ÖÔ∏è‚û°Ô∏è‚¨ÜÔ∏è‚¨áÔ∏è Of gebruik pijltjestoetsen</p>
            <p>üö™ Klik op uitgang om gebouw te verlaten</p>
        </div>
        
        <div class="ui-panel design-panel">
            <h3>üé® Ontwerp je cavia</h3>
            <div id="colorPicker"></div>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        
        // Game state
        let currentWorld = 'stad';
        let cameraX = 0;
        let cameraY = 0;
        let worldWidth = 2000;
        let worldHeight = 1000;
        
        // Player
        let player = {
            x: 400,
            y: 500,
            speed: 5
        };
        
        // Cavia colors
        let caviaColors = {
            body: 'white',
            ears: '#FFB6C1',
            belly: '#FFF5EE',
            feet: '#FFB6C1',
            nose: '#FF69B4'
        };
        
        // Buildings
        let buildings = [];
        
        // Controls
        let keys = {};
        let targetX = null;
        let targetY = null;
        let isInside = false;
        let currentBuilding = null;
        
        window.addEventListener('keydown', (e) => {
            keys[e.key] = true;
        });
        
        window.addEventListener('keyup', (e) => {
            keys[e.key] = false;
        });
        
        // Click/tap handling
        canvas.addEventListener('click', handleClick);
        canvas.addEventListener('touchstart', (e) => {
            e.preventDefault();
            const touch = e.touches[0];
            const rect = canvas.getBoundingClientRect();
            handleClick({
                clientX: touch.clientX,
                clientY: touch.clientY
            });
        });
        
        function handleClick(e) {
            const rect = canvas.getBoundingClientRect();
            const clickX = e.clientX - rect.left + cameraX;
            const clickY = e.clientY - rect.top + cameraY;
            
            if (!isInside) {
                // Check if clicked on a building
                let clickedBuilding = false;
                
                if (currentWorld === 'stad' || currentWorld === 'dierenstad') {
                    buildings.forEach(building => {
                        if (clickX >= building.x && clickX <= building.x + building.w &&
                            clickY >= building.y && clickY <= building.y + building.h) {
                            // Enter building
                            isInside = true;
                            currentBuilding = building;
                            player.x = 400;
                            player.y = 300;
                            targetX = null;
                            targetY = null;
                            clickedBuilding = true;
                        }
                    });
                }
                
                // If not clicked on building, move cavia to click position
                if (!clickedBuilding) {
                    targetX = clickX;
                    targetY = clickY;
                }
            } else {
                // Click to exit building
                if (clickY > 500) {
                    isInside = false;
                    player.x = currentBuilding.x + currentBuilding.w / 2;
                    player.y = currentBuilding.y + currentBuilding.h + 50;
                    currentBuilding = null;
                    targetX = null;
                    targetY = null;
                } else {
                    // Move inside building
                    targetX = e.clientX - rect.left;
                    targetY = e.clientY - rect.top;
                }
            }
        }
        
        // Color picker setup
        function setupColorPicker() {
            const picker = document.getElementById('colorPicker');
            picker.innerHTML = ''; // Clear existing content
            const colors = ['white', '#8B4513', '#2c2c2c', '#D2B48C', '#FFB6C1', '#FF69B4'];
            const parts = ['body', 'ears', 'belly', 'feet', 'nose'];
            
            parts.forEach(part => {
                const div = document.createElement('div');
                div.innerHTML = `<strong>${part}:</strong><br>`;
                
                colors.forEach(color => {
                    const btn = document.createElement('button');
                    btn.className = 'color-btn';
                    btn.style.backgroundColor = color;
                    if (caviaColors[part] === color) btn.classList.add('active');
                    
                    btn.onclick = () => {
                        caviaColors[part] = color;
                        setupColorPicker();
                    };
                    
                    div.appendChild(btn);
                });
                
                picker.appendChild(div);
            });
        }
        
        // Change world
        function changeWorld(world) {
            currentWorld = world;
            player.x = 400;
            player.y = 500;
            cameraX = 0;
            cameraY = 0;
            targetX = null;
            targetY = null;
            isInside = false;
            currentBuilding = null;
            
            // Update button states
            document.querySelectorAll('.world-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.textContent.toLowerCase().includes(world)) {
                    btn.classList.add('active');
                }
            });
            
            // Setup world specific elements
            setupWorld();
        }
        
        function setupWorld() {
            buildings = [];
            
            if (currentWorld === 'stad') {
                buildings = [
                    {x: 100, y: 300, w: 200, h: 250, name: 'Hotel'},
                    {x: 350, y: 320, w: 150, h: 230, name: 'Caf√©'},
                    {x: 550, y: 280, w: 180, h: 270, name: 'Huis 1'},
                    {x: 780, y: 300, w: 160, h: 250, name: 'Winkel'},
                    {x: 990, y: 310, w: 170, h: 240, name: 'Huis 2'}
                ];
            } else if (currentWorld === 'dierenstad') {
                buildings = [
                    {x: 200, y: 350, w: 200, h: 250, name: 'Kapper'},
                    {x: 500, y: 350, w: 200, h: 250, name: 'Supermarkt'},
                    {x: 800, y: 350, w: 200, h: 250, name: 'Dierenwinkel'},
                    {x: 1100, y: 350, w: 200, h: 250, name: 'Ziekenhuis'}
                ];
            }
        }
        
        // Update game
        function update() {
            // Movement to target
            if (targetX !== null && targetY !== null) {
                const dx = targetX - player.x;
                const dy = targetY - player.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance > 5) {
                    player.x += (dx / distance) * player.speed;
                    player.y += (dy / distance) * player.speed;
                } else {
                    targetX = null;
                    targetY = null;
                }
            }
            
            // Keyboard movement
            if (keys['ArrowLeft']) {
                player.x -= player.speed;
                targetX = null;
                targetY = null;
            }
            if (keys['ArrowRight']) {
                player.x += player.speed;
                targetX = null;
                targetY = null;
            }
            if (keys['ArrowUp']) {
                player.y -= player.speed;
                targetX = null;
                targetY = null;
            }
            if (keys['ArrowDown']) {
                player.y += player.speed;
                targetX = null;
                targetY = null;
            }
            
            // Boundaries
            if (!isInside) {
                player.x = Math.max(30, Math.min(worldWidth - 30, player.x));
                player.y = Math.max(30, Math.min(worldHeight - 30, player.y));
                
                // Camera follow
                cameraX = Math.max(0, Math.min(worldWidth - canvas.width, player.x - canvas.width / 2));
                cameraY = Math.max(0, Math.min(worldHeight - canvas.height, player.y - canvas.height / 2));
            } else {
                player.x = Math.max(30, Math.min(770, player.x));
                player.y = Math.max(30, Math.min(570, player.y));
            }
        }
        
        // Draw functions
        function draw() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            if (!isInside) {
                ctx.save();
                ctx.translate(-cameraX, -cameraY);
                
                // Draw world
                switch(currentWorld) {
                    case 'stad': drawStad(); break;
                    case 'natuur': drawNatuur(); break;
                    case 'strand': drawStrand(); break;
                    case 'winter': drawWinter(); break;
                    case 'woestijn': drawWoestijn(); break;
                    case 'jungle': drawJungle(); break;
                    case 'zwembad': drawZwembad(); break;
                    case 'dierenstad': drawDierenstad(); break;
                }
                
                // Draw click target
                if (targetX !== null && targetY !== null) {
                    ctx.strokeStyle = '#FF69B4';
                    ctx.lineWidth = 3;
                    ctx.beginPath();
                    ctx.arc(targetX, targetY, 20, 0, Math.PI * 2);
                    ctx.stroke();
                }
                
                // Draw player
                drawCavia(player.x, player.y, 0.5);
                
                ctx.restore();
            } else {
                drawInterior();
                drawCavia(player.x, player.y, 0.5);
            }
        }
        
        function drawInterior() {
            // Room background
            ctx.fillStyle = '#F5DEB3';
            ctx.fillRect(0, 0, 800, 600);
            
            // Floor
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(0, 400, 800, 200);
            
            // Exit area
            ctx.fillStyle = '#654321';
            ctx.fillRect(350, 500, 100, 100);
            ctx.fillStyle = 'white';
            ctx.font = '16px Arial';
            ctx.textAlign = 'center';
            ctx.fillText('Uitgang', 400, 550);
            
            if (currentBuilding.name === 'Hotel') {
                // Reception desk
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(300, 300, 200, 80);
                
                // Straw beds
                for (let i = 0; i < 4; i++) {
                    ctx.fillStyle = '#DAA520';
                    ctx.fillRect(100 + i * 150, 200, 100, 60);
                    ctx.fillStyle = '#F4A460';
                    ctx.fillRect(110 + i * 150, 210, 80, 40);
                }
                
                ctx.fillStyle = 'black';
                ctx.font = '20px Arial';
                ctx.textAlign = 'center';
                ctx.fillText('Helzingten Hotel - Speciaal voor dieren!', 400, 50);
            }
            else if (currentBuilding.name === 'Caf√©') {
                // Tables
                for (let i = 0; i < 3; i++) {
                    ctx.fillStyle = '#8B4513';
                    ctx.beginPath();
                    ctx.arc(200 + i * 200, 250, 40, 0, Math.PI * 2);
                    ctx.fill();
                    
                    // Chairs
                    for (let j = 0; j < 4; j++) {
                        const angle = (j * 90) * Math.PI / 180;
                        const cx = 200 + i * 200 + Math.cos(angle) * 60;
                        const cy = 250 + Math.sin(angle) * 60;
                        ctx.fillStyle = '#654321';
                        ctx.beginPath();
                        ctx.arc(cx, cy, 15, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                // Counter
                ctx.fillStyle = '#DEB887';
                ctx.fillRect(50, 100, 700, 50);
                
                // Food
                ctx.fillStyle = '#DAA520';
                ctx.fillRect(100, 110, 30, 30);
                ctx.fillStyle = 'black';
                ctx.font = '12px Arial';
                ctx.fillText('Hooi', 115, 105);
                
                ctx.fillStyle = 'white';
                ctx.fillRect(200, 110, 30, 30);
                ctx.fillText('Suiker', 215, 105);
            }
            else if (currentBuilding.name && currentBuilding.name.includes('Huis')) {
                // Living room furniture
                // Couch
                ctx.fillStyle = '#4682B4';
                ctx.fillRect(100, 250, 150, 80);
                ctx.fillRect(80, 270, 20, 60);
                ctx.fillRect(250, 270, 20, 60);
                
                // Table
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(350, 280, 100, 60);
                
                // Bookshelf
                ctx.fillStyle = '#654321';
                ctx.fillRect(550, 150, 80, 200);
                for (let i = 0; i < 4; i++) {
                    ctx.fillStyle = ['#FF6347', '#4169E1', '#32CD32', '#FFD700'][i];
                    ctx.fillRect(560, 160 + i * 45, 60, 35);
                }
                
                // Kitchen area
                ctx.fillStyle = '#DCDCDC';
                ctx.fillRect(50, 50, 200, 80);
                ctx.fillStyle = 'black';
                ctx.beginPath();
                ctx.arc(100, 90, 20, 0, Math.PI * 2);
                ctx.arc(150, 90, 20, 0, Math.PI * 2);
                ctx.arc(200, 90, 20, 0, Math.PI * 2);
                ctx.fill();
            }
            else if (currentBuilding.name === 'Kapper') {
                // Salon chairs
                for (let i = 0; i < 3; i++) {
                    ctx.fillStyle = '#FF1493';
                    ctx.fillRect(200 + i * 150, 300, 80, 100);
                    ctx.fillStyle = '#C71585';
                    ctx.beginPath();
                    ctx.arc(240 + i * 150, 340, 30, 0, Math.PI * 2);
                    ctx.fill();
                }
                
                // Mirrors
                ctx.fillStyle = '#87CEEB';
                for (let i = 0; i < 3; i++) {
                    ctx.fillRect(210 + i * 150, 150, 60, 80);
                }
            }
            else if (currentBuilding.name === 'Supermarkt') {
                // Shelves
                ctx.fillStyle = '#8B4513';
                for (let i = 0; i < 4; i++) {
                    ctx.fillRect(100 + i * 150, 200, 100, 150);
                    
                    // Products
                    ctx.fillStyle = '#FFD700';
                    ctx.fillRect(110 + i * 150, 210, 80, 30);
                    ctx.fillStyle = '#90EE90';
                    ctx.fillRect(110 + i * 150, 250, 80, 30);
                    ctx.fillStyle = '#FF6347';
                    ctx.fillRect(110 + i * 150, 290, 80, 30);
                }
            }
            else if (currentBuilding.name === 'Dierenwinkel') {
                // Pet supplies
                ctx.fillStyle = '#DEB887';
                ctx.fillRect(100, 200, 150, 100);
                ctx.fillStyle = 'black';
                ctx.font = '14px Arial';
                ctx.fillText('Speelgoed', 175, 250);
                
                ctx.fillStyle = '#90EE90';
                ctx.fillRect(300, 200, 150, 100);
                ctx.fillText('Voedsel', 375, 250);
                
                ctx.fillStyle = '#87CEEB';
                ctx.fillRect(500, 200, 150, 100);
                ctx.fillText('Hokken', 575, 250);
            }
            else if (currentBuilding.name === 'Ziekenhuis') {
                // Hospital beds
                for (let i = 0; i < 3; i++) {
                    ctx.fillStyle = 'white';
                    ctx.fillRect(150 + i * 200, 250, 120, 80);
                    ctx.strokeStyle = '#4169E1';
                    ctx.strokeRect(150 + i * 200, 250, 120, 80);
                }
                
                // Red cross
                ctx.fillStyle = '#FF0000';
                ctx.fillRect(380, 100, 40, 100);
                ctx.fillRect(350, 130, 100, 40);
            }
        }
        
        function drawCavia(x, y, scale) {
            ctx.save();
            ctx.translate(x, y);
            ctx.scale(scale, scale);
            
            // Shadow
            ctx.fillStyle = 'rgba(0,0,0,0.2)';
            ctx.beginPath();
            ctx.ellipse(0, 35, 30, 10, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Body
            ctx.fillStyle = caviaColors.body;
            ctx.beginPath();
            ctx.ellipse(0, 0, 40, 30, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Belly
            ctx.fillStyle = caviaColors.belly;
            ctx.beginPath();
            ctx.ellipse(0, 10, 25, 15, 0, 0, Math.PI);
            ctx.fill();
            
            // Head
            ctx.fillStyle = caviaColors.body;
            ctx.beginPath();
            ctx.ellipse(0, -20, 30, 25, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Ears
            ctx.fillStyle = caviaColors.ears;
            ctx.beginPath();
            ctx.ellipse(-15, -30, 10, 15, -0.3, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(15, -30, 10, 15, 0.3, 0, Math.PI * 2);
            ctx.fill();
            
            // Feet
            ctx.fillStyle = caviaColors.feet;
            ctx.beginPath();
            ctx.ellipse(-20, 20, 10, 15, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.ellipse(20, 20, 10, 15, 0, 0, Math.PI * 2);
            ctx.fill();
            
            // Eyes
            ctx.fillStyle = 'black';
            ctx.beginPath();
            ctx.arc(-10, -20, 3, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(10, -20, 3, 0, Math.PI * 2);
            ctx.fill();
            
            // Nose
            ctx.fillStyle = caviaColors.nose;
            ctx.beginPath();
            ctx.ellipse(0, -10, 3, 2, 0, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
        }
        
        function drawStad() {
            // Sky
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, worldWidth, 550);
            
            // Street
            ctx.fillStyle = '#2F4F4F';
            ctx.fillRect(0, 550, worldWidth, worldHeight - 550);
            
            // Buildings
            buildings.forEach(b => {
                ctx.fillStyle = '#696969';
                ctx.fillRect(b.x, b.y, b.w, b.h);
                
                // Windows
                ctx.fillStyle = '#FFD700';
                for (let y = b.y + 20; y < b.y + b.h - 30; y += 40) {
                    for (let x = b.x + 20; x < b.x + b.w - 20; x += 35) {
                        ctx.fillRect(x, y, 25, 30);
                    }
                }
                
                // Name
                ctx.fillStyle = 'white';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(b.name, b.x + b.w/2, b.y - 10);
            });
        }
        
        function drawNatuur() {
            // Sky
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, worldWidth, worldHeight);
            
            // Grass
            ctx.fillStyle = '#228B22';
            ctx.fillRect(0, 500, worldWidth, worldHeight - 500);
            
            // Trees
            for (let i = 0; i < 10; i++) {
                const x = 200 + i * 150;
                const y = 450;
                
                ctx.fillStyle = '#8B4513';
                ctx.fillRect(x - 10, y, 20, 40);
                
                ctx.fillStyle = '#228B22';
                ctx.beginPath();
                ctx.arc(x, y - 20, 30, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Water
            ctx.fillStyle = '#4682B4';
            ctx.fillRect(600, 600, 300, 150);
        }
        
        function drawStrand() {
            // Sky
            ctx.fillStyle = '#87CEEB';
            ctx.fillRect(0, 0, worldWidth, 400);
            
            // Sea
            ctx.fillStyle = '#4682B4';
            ctx.fillRect(0, 400, worldWidth, 200);
            
            // Beach
            ctx.fillStyle = '#F4A460';
            ctx.fillRect(0, 600, worldWidth, worldHeight - 600);
            
            // Sun
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(1500, 100, 50, 0, Math.PI * 2);
            ctx.fill();
            
            // Umbrella
            ctx.fillStyle = '#FF6347';
            ctx.beginPath();
            ctx.arc(400, 650, 60, Math.PI, 0);
            ctx.fill();
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(395, 650, 10, 80);
            
            // Sunbed
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(350, 700, 100, 60);
        }
        
        function drawWinter() {
            // Sky
            ctx.fillStyle = '#B0E0E6';
            ctx.fillRect(0, 0, worldWidth, worldHeight);
            
            // Snow
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 500, worldWidth, worldHeight - 500);
            
            // Mountain
            ctx.fillStyle = '#DCDCDC';
            ctx.beginPath();
            ctx.moveTo(0, 500);
            ctx.lineTo(500, 200);
            ctx.lineTo(1000, 500);
            ctx.fill();
            
            // Igloo
            ctx.fillStyle = '#F0F8FF';
            ctx.beginPath();
            ctx.arc(300, 600, 80, Math.PI, 0);
            ctx.fill();
            
            // Penguins
            for (let i = 0; i < 5; i++) {
                const x = 500 + i * 100;
                const y = 650;
                
                // Body
                ctx.fillStyle = 'black';
                ctx.beginPath();
                ctx.ellipse(x, y, 20, 30, 0, 0, Math.PI * 2);
                ctx.fill();
                
                // Belly
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.ellipse(x, y + 5, 15, 20, 0, 0, Math.PI * 2);
                ctx.fill();
                
                // Beak
                ctx.fillStyle = '#FF8C00';
                ctx.beginPath();
                ctx.moveTo(x, y - 20);
                ctx.lineTo(x - 5, y - 15);
                ctx.lineTo(x + 5, y - 15);
                ctx.fill();
            }
        }
        
        function drawWoestijn() {
            // Sky
            ctx.fillStyle = '#87CEFA';
            ctx.fillRect(0, 0, worldWidth, 400);
            
            // Desert
            ctx.fillStyle = '#F4A460';
            ctx.fillRect(0, 400, worldWidth, worldHeight - 400);
            
            // Pyramid
            ctx.fillStyle = '#DEB887';
            ctx.beginPath();
            ctx.moveTo(600, 300);
            ctx.lineTo(400, 600);
            ctx.lineTo(800, 600);
            ctx.fill();
            
            // Entrance
            ctx.fillStyle = '#654321';
            ctx.fillRect(580, 500, 40, 100);
            
            // Sun
            ctx.fillStyle = '#FFD700';
            ctx.beginPath();
            ctx.arc(1600, 100, 60, 0, Math.PI * 2);
            ctx.fill();
        }
        
        function drawJungle() {
            // Background
            ctx.fillStyle = '#228B22';
            ctx.fillRect(0, 0, worldWidth, worldHeight);
            
            // Trees
            for (let i = 0; i < 15; i++) {
                const x = Math.random() * worldWidth;
                const y = 300 + Math.random() * 300;
                
                ctx.fillStyle = '#654321';
                ctx.fillRect(x - 15, y, 30, 100);
                
                ctx.fillStyle = '#006400';
                ctx.beginPath();
                ctx.arc(x, y - 20, 40, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // Monkey on tree
            ctx.fillStyle = '#8B4513';
            ctx.beginPath();
            ctx.arc(500, 400, 15, 0, Math.PI * 2);
            ctx.fill();
        }
        
        function drawZwembad() {
            // Building
            ctx.fillStyle = '#F0F8FF';
            ctx.fillRect(0, 0, worldWidth, worldHeight);
            
            // Floor
            ctx.fillStyle = '#4682B4';
            ctx.fillRect(0, 700, worldWidth, worldHeight - 700);
            
            // Pools
            const pools = [
                {x: 200, y: 400, w: 200, h: 150, color: '#DAA520', name: 'Stro'},
                {x: 500, y: 400, w: 200, h: 150, color: '#00CED1', name: 'Water'},
                {x: 800, y: 400, w: 200, h: 150, color: '#F4A460', name: 'Zand'},
                {x: 1100, y: 400, w: 200, h: 150, color: '#E0FFFF', name: 'Bubbel'}
            ];
            
            pools.forEach(pool => {
                ctx.fillStyle = pool.color;
                ctx.fillRect(pool.x, pool.y, pool.w, pool.h);
                
                ctx.fillStyle = 'black';
                ctx.font = '16px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(pool.name, pool.x + pool.w/2, pool.y - 10);
            });
        }
        
        function drawDierenstad() {
            // Sky
            ctx.fillStyle = '#FFE4B5';
            ctx.fillRect(0, 0, worldWidth, 600);
            
            // Ground
            ctx.fillStyle = '#D2691E';
            ctx.fillRect(0, 600, worldWidth, worldHeight - 600);
            
            // Shops - already in buildings array
            buildings.forEach(shop => {
                const colors = {
                    'Kapper': '#FFB6C1',
                    'Supermarkt': '#90EE90',
                    'Dierenwinkel': '#87CEEB',
                    'Ziekenhuis': '#FF6347'
                };
                
                ctx.fillStyle = colors[shop.name] || '#FFFFFF';
                ctx.fillRect(shop.x, shop.y, shop.w, shop.h);
                
                ctx.fillStyle = 'black';
                ctx.font = '18px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(shop.name, shop.x + shop.w/2, shop.y + shop.h/2);
            });
        }
        
        // Handle window resize
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
        });
        
        // Game loop
        function gameLoop() {
            update();
            draw();
            requestAnimationFrame(gameLoop);
        }
        
        // Initialize
        setupColorPicker();
        setupWorld();
        gameLoop();
    </script>
</body>
</html>